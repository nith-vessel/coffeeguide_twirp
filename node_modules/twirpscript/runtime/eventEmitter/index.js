export function createEventEmitter() {
    const listeners = {};
    return {
        on: (eventName, listener) => {
            listeners[eventName] ?? (listeners[eventName] = []);
            listeners[eventName]?.push(listener);
        },
        off: (eventName, listener) => {
            listeners[eventName] = listeners[eventName]?.filter((x) => x !== listener);
        },
        emit: (eventName, ...args) => {
            listeners[eventName]?.forEach((cb) => {
                cb(...args);
            });
        },
    };
}
